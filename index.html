<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>リアルタイム投資ゲーム</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      background-image: url('img/testtousi.jpg'); /* 画像のパスを適切なものに変更 */
      background-size: cover;
      background-repeat: no-repeat;
      height: 100vh;
      margin: 0;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    #game-container {
      max-width: 600px;
      margin: auto;
      background-color: rgba(255, 255, 255, 0.8); /* 背景色を設定（オプション） */
      padding: 20px;
      border-radius: 10px;
    }

    /* 以降のスタイルは前回と同じです */
    #balance {
      font-size: 18px;
      margin-bottom: 10px;
    }

    #stock-info {
      font-size: 16px;
      margin-bottom: 10px;
    }

    .button-container a {
      display: inline-block;
      padding: 10px;
      font-size: 14px;
      cursor: pointer;
      background-size: contain;
      border: none;
      outline: none;
      width: 50px; /* ボタンの幅を適切なものに変更 */
      height: 50px; /* ボタンの高さを適切なものに変更 */
      text-decoration: none;
    }

    #investment-info {
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <div id="game-container">
    <h1>リアルタイム投資ゲーム</h1>
    <p id="balance">所持金: $10000</p>
    <p id="stock-info">株価: $50 | 保有株式: 0</p>

    <label for="buy-input">購入数量:</label>
    <input type="number" id="buy-input" min="1" value="1">
    <div class="button-container">
      <a href="#" id="buy-button" onclick="buyStock()">買う</a>

      <label for="sell-input">売却数量:</label>
      <input type="number" id="sell-input" min="1" value="1">
      <a href="#" id="sell-button" onclick="sellStock()">売る</a>
    </div>

    <!-- 投資の説明 -->
    <div id="investment-info">
      <h2>投資の説明</h2>
      <p>
        リアルタイム投資ゲームでは、所持金を使って株を購入・売却し、株価の変動により利益を上げることを目指します。
        購入数量と売却数量を入力し、「買う」ボタンで株を購入し、「売る」ボタンで株を売却します。
        定期的に株価が変動するので、市場の状況に注意して取引しましょう。
      </p>
    </div>
  </div>

  <script>
    // 以前のスクリプト部分は変更していません
    let balance = 10000;
    let stockPrice = 50;
    let stocksOwned = 0;

    function buyStock() {
      const quantity = parseInt(document.getElementById('buy-input').value, 10);
      const cost = quantity * stockPrice;

      if (cost > balance) {
        alert('所持金が不足しています！');
        return;
      }

      balance -= cost;
      stocksOwned += quantity;
      updateUI();
    }

    function sellStock() {
      const quantity = parseInt(document.getElementById('sell-input').value, 10);

      if (quantity > stocksOwned) {
        alert('保有している株式より多く売却できません！');
        return;
      }

      const revenue = quantity * stockPrice;
      balance += revenue;
      stocksOwned -= quantity;
      updateUI();
    }

    function updateUI() {
      document.getElementById('balance').innerText = `所持金: $${balance}`;
      document.getElementById('stock-info').innerText = `株価: $${stockPrice.toFixed(2)} | 保有株式: ${stocksOwned}`;
    }

    function simulateStockPriceChange() {
      const maxChange = 3; // 最大変動値を小さくする
      const randomChange = Math.random() * maxChange * 2 - maxChange;
      stockPrice = Math.max(1, stockPrice + randomChange);
      updateUI();
    }

    setInterval(simulateStockPriceChange, 5000);
  </script>
</body>
</html>
